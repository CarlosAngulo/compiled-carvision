"use strict";(self.webpackChunkcar_sales_front=self.webpackChunkcar_sales_front||[]).push([[931],{931:(Y,c,o)=>{o.r(c),o.d(c,{AuthModule:()=>C});var p=o(6814),u=o(7006),l=o(7023),a=o(6223),h=o(6306),m=o(9397),f=o(5177),g=o(7398),t=o(5879),w=o(9987),i=o(2210);function v(s,T){1&s&&(t.TgZ(0,"nb-alert",10)(1,"h5"),t._uU(2,"Hooray"),t.qZA(),t._uU(3," Your password has been successfuly created!\n"),t.qZA())}function b(s,T){1&s&&(t.TgZ(0,"nb-alert",10)(1,"h5"),t._uU(2,"Oh snap!"),t.qZA(),t._uU(3," Something went wrong, please try again.\n"),t.qZA())}let P=(()=>{class s{constructor(e,r,n,d,U){this.route=e,this.passwordStrategy=r,this.fb=n,this.validators=d,this.router=U,this.inputValsMatch=!1,this.error=!1,this.success=!1,this.token="",this.route.queryParams.subscribe(F=>{this.token=F.token})}ngOnInit(){this.resetPasswForm=this.fb.group({password:["",[a.kI.required,this.validators.password()]],confirmPassword:["",[a.kI.required,this.validators.password()]],token:[this.token,[a.kI.required]]}),this.token&&this.resetPasswForm.get("token")?.setValue(this.token),this.resetPasswForm.valueChanges.subscribe(e=>{this.inputValsMatch=e.password===e.confirmPassword})}onResetPassword(){this.passwordStrategy.resetPassword(this.resetPasswForm.value).pipe((0,h.K)(e=>(this.error=!0,e)),(0,m.b)(()=>this.success=!0),(0,f.g)(500),(0,g.U)(()=>!0)).subscribe(e=>{e&&this.router.navigate(["/auth/login"])})}static#t=this.\u0275fac=function(r){return new(r||s)(t.Y36(u.gz),t.Y36(l.OY),t.Y36(a.qu),t.Y36(w.w),t.Y36(u.F0))};static#s=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-reset-password"]],decls:17,vars:4,consts:[["outline","success",4,"ngIf"],[1,"title"],[1,"sub-title"],[3,"formGroup","ngSubmit"],[1,"form-control-group"],["for","input-password",1,"label"],["id","input-password","name","password","nbInput","","type","password","placeholder","Password","formControlName","password",1,"first","input-full-width","size-large","shape-rectangle","nb-transition","ng-touched","status-success","ng-dirty","ng-valid"],["for","input-re-password",1,"label"],["id","input-re-password","name","rePass","nbInput","","type","password","placeholder","Confirm password","formControlName","confirmPassword",1,"first","input-full-width","size-large","shape-rectangle","nb-transition","ng-touched","status-success","ng-dirty","ng-valid"],["nbButton","","status","primary","size","large","type","submit",1,"w-full",3,"disabled"],["outline","success"]],template:function(r,n){1&r&&(t.YNc(0,v,4,0,"nb-alert",0),t.YNc(1,b,4,0,"nb-alert",0),t.TgZ(2,"h1",1),t._uU(3,"Set your password"),t.qZA(),t.TgZ(4,"p",2),t._uU(5,"Please set a password for your account"),t.qZA(),t.TgZ(6,"form",3),t.NdJ("ngSubmit",function(){return n.onResetPassword()}),t.TgZ(7,"div",4)(8,"label",5),t._uU(9,"Password:"),t.qZA(),t._UZ(10,"input",6),t.qZA(),t.TgZ(11,"div",4)(12,"label",7),t._uU(13,"Confirm your Pasword"),t.qZA(),t._UZ(14,"input",8),t.qZA(),t.TgZ(15,"button",9),t._uU(16," Reset password "),t.qZA()()),2&r&&(t.Q6J("ngIf",n.success),t.xp6(1),t.Q6J("ngIf",n.error),t.xp6(5),t.Q6J("formGroup",n.resetPasswForm),t.xp6(9),t.Q6J("disabled",!n.inputValsMatch||!n.resetPasswForm.valid))},dependencies:[p.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,i.$9b,i.DPz,i.h8i],encapsulation:2})}return s})();const Z=[{path:"",component:l.AC,children:[{path:"",component:(()=>{class s{constructor(e){e.navigate(["auth/login"])}static#t=this.\u0275fac=function(r){return new(r||s)(t.Y36(u.F0))};static#s=this.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(r,n){1&r&&t._uU(0,"redirecting...")},encapsulation:2})}return s})()},{path:"login",component:l.Yx},{path:"requestpassword",component:l.CE},{path:"resetpassword",component:P},{path:"**",redirectTo:"login"}]}];let A=(()=>{class s{static#t=this.\u0275fac=function(r){return new(r||s)};static#s=this.\u0275mod=t.oAB({type:s});static#e=this.\u0275inj=t.cJS({imports:[u.Bz.forChild(Z),u.Bz]})}return s})(),C=(()=>{class s{static#t=this.\u0275fac=function(r){return new(r||s)};static#s=this.\u0275mod=t.oAB({type:s});static#e=this.\u0275inj=t.cJS({imports:[p.ez,A,a.UX,i.PYG,i.T2N,i.nKr]})}return s})()}}]);